<div class="container d-flex flex-column align-items-center justify-content-center min-vh-100 bg-light">

  <!-- Botões de switch -->
  <div class="btn-group mb-4" role="group" aria-label="Tipo de cadastro">
    <button type="button" class="btn btn-primary" id="btnCandidato">Candidato</button>
    <button type="button" class="btn btn-outline-primary" id="btnEmpresa">Empresa</button>
  </div>

  <!-- Card de formulário -->
  <div class="card shadow p-4" style="width: 100%; max-width: 450px;">
    <!-- Formulário Candidato -->
    <form method="post" action="/usuario/cadastrar" id="formCandidato">
      <input type="hidden" id="tipo" name="tipo" value="candidato">
      <div class="mb-3">
        <label for="nomeCandidato" class="form-label">Nome Completo</label>
        <input type="text" class="form-control" id="nomeCandidato" name="nome">
      </div>
      <div class="mb-3">
        <label for="cpfCandidato" class="form-label">CPF</label>
        <input type="text" class="form-control" id="cpfCandidato" name="cpf">
      </div>
      <div class="mb-3">
        <label for="emailCandidato" class="form-label">E-mail</label>
        <input type="email" class="form-control" id="emailCandidato" name="email">
      </div>
      <div class="mb-3 position-relative">
        <label for="senhaCandidato" class="form-label">Senha</label>
        <div class="input-group">
          <input type="password" class="form-control" id="senhaCandidato" name="senha">
          <button type="button" class="btn btn-link position-absolute end-0 top-0 mt-2 me-2 p-0 text-decoration-none"
            style="font-size: 0.9rem;" onclick="togglePassword('senhaCandidato')">Exibir</button>
        </div>
      </div>
      <button type="submit" class="btn btn-primary w-100">Cadastrar</button>
    </form>

    <!-- Formulário Empresa -->
    <form method="post" action="/usuario/cadastrar" id="formEmpresa" class="d-none">
      <input type="hidden" id="tipo" name="tipo" value="empresa">
      <div class="mb-3">
        <label for="nomeEmpresa" class="form-label">Nome Empresa</label>
        <input type="text" class="form-control" id="nomeEmpresa" name="nome_fantasia">
        <input type="hidden" name="nome" value="" id="nomeHidden">
      </div>
      <div class="mb-3">
        <label for="cnpjEmpresa" class="form-label">CNPJ</label>
        <input type="text" class="form-control" id="cnpjEmpresa" name="cnpj">
      </div>
      <div class="mb-3">
        <label for="emailEmpresa" class="form-label">E-mail</label>
        <input type="email" class="form-control" id="emailEmpresa" name="email">
      </div>
      <div class="mb-3 position-relative">
        <label for="senhaEmpresa" class="form-label">Senha</label>
        <div class="input-group">
          <input type="password" class="form-control" id="senhaEmpresa" name="senha">
          <button type="button" class="btn btn-link position-absolute end-0 top-0 mt-2 me-2 p-0 text-decoration-none"
            style="font-size: 0.9rem;" onclick="togglePassword('senhaEmpresa')">Exibir</button>
        </div>
      </div>
      <button type="submit" class="btn btn-primary w-100">Cadastrar</button>
    </form>

    <!-- Link para login -->
    <div class="text-center mt-3">
      <small>Já faz parte do Empregai? <a href="./login">Entrar</a></small>
    </div>
  </div>
</div>

<!-- Script para alternar formulários -->
<script>
  const btnCandidato = document.getElementById('btnCandidato');
  const btnEmpresa = document.getElementById('btnEmpresa');
  const formCandidato = document.getElementById('formCandidato');
  const formEmpresa = document.getElementById('formEmpresa');

  btnCandidato.addEventListener('click', () => {
    formCandidato.classList.remove('d-none');
    formEmpresa.classList.add('d-none');
    btnCandidato.classList.add('btn-primary');
    btnCandidato.classList.remove('btn-outline-primary');
    btnEmpresa.classList.add('btn-outline-primary');
    btnEmpresa.classList.remove('btn-primary');
  });

  btnEmpresa.addEventListener('click', () => {
    formCandidato.classList.add('d-none');
    formEmpresa.classList.remove('d-none');
    btnEmpresa.classList.add('btn-primary');
    btnEmpresa.classList.remove('btn-outline-primary');
    btnCandidato.classList.add('btn-outline-primary');
    btnCandidato.classList.remove('btn-primary');
  });

  function togglePassword(inputId) {
    const input = document.getElementById(inputId);
    input.type = input.type === 'password' ? 'text' : 'password';
  }
  
  document.getElementById('nomeEmpresa').addEventListener('input', function() {
    document.getElementById('nomeHidden').value = this.value;
  });
</script>